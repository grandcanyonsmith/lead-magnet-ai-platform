sing {
  jobId: 'wfgen_01K9RW7M8WETQ7P7443W483T1V',
  functionArn: 'arn:aws:lambda:us-east-1:471112574622:function:leadmagnet-api-handler',
  statusCode: 202,
  requestId: '69a0e5c6-c693-4b8d-9836-b1093fc5c586'
}
[Handler] Router returned result {
  statusCode: 202,
  bodyType: 'object',
  bodyKeys: [ 'job_id', 'status', 'message' ],
  path: '/admin/workflows/generate-with-ai'
}
[Local Server] GET /admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V [local-1762845261528-wwu1ymfdt]
{"timestamp":"2025-11-11T07:14:21.528Z","level":"info","message":"Incoming request","path":"/admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V","method":"GET","requestId":"local-1762845261528-wwu1ymfdt"}
{"timestamp":"2025-11-11T07:14:21.528Z","level":"info","message":"JWT Claims","hasAuthorizer":true,"claimKeys":["sub","custom:tenant_id","email"],"hasCustomTenantId":true,"hasEmail":true,"hasSub":true,"rawClaims":{"sub":"84c8e438-0061-70f2-2ce0-7cb44989a329","custom:tenant_id":"84c8e438-0061-70f2-2ce0-7cb44989a329","email":"test@example.com"}}
[Router] Request received {
  method: 'GET',
  path: '/admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V',
  rawPath: '/admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V',
  pathParameters: {
    '0': '/admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V'
  },
  tenantId: '84c8e438-0061-70f2-2ce0-7cb44989a329'
}
[Router] Matched /admin/workflows/generation-status/:jobId route { jobId: 'wfgen_01K9RW7M8WETQ7P7443W483T1V' }
[Handler] Router returned result {
  statusCode: 200,
  bodyType: 'object',
  bodyKeys: [
    'job_id',
    'status',
    'result',
    'error_message',
    'created_at',
    'updated_at'
  ],
  path: '/admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V'
}
[Local Server] POST /admin/workflows/process-job/wfgen_01K9RW7M8WETQ7P7443W483T1V [local-1762845262865-uywt8j12t]
{"timestamp":"2025-11-11T07:14:22.866Z","level":"info","message":"Incoming request","path":"/admin/workflows/process-job/wfgen_01K9RW7M8WETQ7P7443W483T1V","method":"POST","requestId":"local-1762845262865-uywt8j12t"}
{"timestamp":"2025-11-11T07:14:22.866Z","level":"info","message":"JWT Claims","hasAuthorizer":true,"claimKeys":["sub","custom:tenant_id","email"],"hasCustomTenantId":true,"hasEmail":true,"hasSub":true,"rawClaims":{"sub":"84c8e438-0061-70f2-2ce0-7cb44989a329","custom:tenant_id":"84c8e438-0061-70f2-2ce0-7cb44989a329","email":"test@example.com"}}
[Router] Request received {
  method: 'POST',
  path: '/admin/workflows/process-job/wfgen_01K9RW7M8WETQ7P7443W483T1V',
  rawPath: '/admin/workflows/process-job/wfgen_01K9RW7M8WETQ7P7443W483T1V',
  pathParameters: {
    '0': '/admin/workflows/process-job/wfgen_01K9RW7M8WETQ7P7443W483T1V'
  },
  tenantId: '84c8e438-0061-70f2-2ce0-7cb44989a329'
}
[Router] Matched /admin/workflows/process-job/:jobId route { jobId: 'wfgen_01K9RW7M8WETQ7P7443W483T1V' }
[Workflow Generation] Processing job {
  jobId: 'wfgen_01K9RW7M8WETQ7P7443W483T1V',
  tenantId: '84c8e438-0061-70f2-2ce0-7cb44989a329'
}
[Workflow Generation] OpenAI client initialized
[Workflow Generation] Calling OpenAI for workflow generation...
[Local Server] GET /admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V [local-1762845331642-57aszvnhq]
{"timestamp":"2025-11-11T07:15:31.643Z","level":"info","message":"Incoming request","path":"/admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V","method":"GET","requestId":"local-1762845331642-57aszvnhq"}
{"timestamp":"2025-11-11T07:15:31.643Z","level":"info","message":"JWT Claims","hasAuthorizer":true,"claimKeys":["sub","custom:tenant_id","email"],"hasCustomTenantId":true,"hasEmail":true,"hasSub":true,"rawClaims":{"sub":"84c8e438-0061-70f2-2ce0-7cb44989a329","custom:tenant_id":"84c8e438-0061-70f2-2ce0-7cb44989a329","email":"test@example.com"}}
[Router] Request received {
  method: 'GET',
  path: '/admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V',
  rawPath: '/admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V',
  pathParameters: {
    '0': '/admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V'
  },
  tenantId: '84c8e438-0061-70f2-2ce0-7cb44989a329'
}
[Router] Matched /admin/workflows/generation-status/:jobId route { jobId: 'wfgen_01K9RW7M8WETQ7P7443W483T1V' }
[Handler] Router returned result {
  statusCode: 200,
  bodyType: 'object',
  bodyKeys: [
    'job_id',
    'status',
    'result',
    'error_message',
    'created_at',
    'updated_at'
  ],
  path: '/admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V'
}
[Workflow Generation] Workflow generation completed {
  duration: '75440ms',
  tokensUsed: 8586,
  modelUsed: 'gpt-5-2025-08-07'
}
[Usage Tracking] Usage record stored {
  usageId: 'usage_01K9RWAATZXVN58ZVGFPR13H2D',
  tenantId: '84c8e438-0061-70f2-2ce0-7cb44989a329',
  serviceType: 'openai_workflow_generate',
  model: 'gpt-5-2025-08-07',
  inputTokens: 2371,
  outputTokens: 6215,
  costUsd: 0.068078
}
[Workflow Generation] Calling OpenAI for template HTML generation...
[Workflow Generation] Calling OpenAI for template name/description generation...
[Workflow Generation] Calling OpenAI for form generation...
[Workflow Generation] Template name/description generation completed { duration: '11075ms', modelUsed: 'gpt-5-2025-08-07' }
[Usage Tracking] Usage record stored {
  usageId: 'usage_01K9RWANPEPXH1350JH1KB78Z5',
  tenantId: '84c8e438-0061-70f2-2ce0-7cb44989a329',
  serviceType: 'openai_template_generate',
  model: 'gpt-5-2025-08-07',
  inputTokens: 56,
  outputTokens: 616,
  costUsd: 0.0063
}
[Workflow Generation] Form generation completed {
  duration: '25533ms',
  tokensUsed: 2030,
  modelUsed: 'gpt-5-2025-08-07'
}
[Usage Tracking] Usage record stored {
  usageId: 'usage_01K9RWB3T82HKX0YQ50Q80VT28',
  tenantId: '84c8e438-0061-70f2-2ce0-7cb44989a329',
  serviceType: 'openai_workflow_generate',
  model: 'gpt-5-2025-08-07',
  inputTokens: 232,
  outputTokens: 1798,
  costUsd: 0.01856
}
[Local Server] GET /admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V [local-1762845371062-rscea2gwy]
{"timestamp":"2025-11-11T07:16:11.062Z","level":"info","message":"Incoming request","path":"/admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V","method":"GET","requestId":"local-1762845371062-rscea2gwy"}
{"timestamp":"2025-11-11T07:16:11.062Z","level":"info","message":"JWT Claims","hasAuthorizer":true,"claimKeys":["sub","custom:tenant_id","email"],"hasCustomTenantId":true,"hasEmail":true,"hasSub":true,"rawClaims":{"sub":"84c8e438-0061-70f2-2ce0-7cb44989a329","custom:tenant_id":"84c8e438-0061-70f2-2ce0-7cb44989a329","email":"test@example.com"}}
[Router] Request received {
  method: 'GET',
  path: '/admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V',
  rawPath: '/admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V',
  pathParameters: {
    '0': '/admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V'
  },
  tenantId: '84c8e438-0061-70f2-2ce0-7cb44989a329'
}
[Router] Matched /admin/workflows/generation-status/:jobId route { jobId: 'wfgen_01K9RW7M8WETQ7P7443W483T1V' }
[Handler] Router returned result {
  statusCode: 200,
  bodyType: 'object',
  bodyKeys: [
    'job_id',
    'status',
    'result',
    'error_message',
    'created_at',
    'updated_at'
  ],
  path: '/admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V'
}
[Local Server] GET /admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V [local-1762845386758-zld5mp5zn]
{"timestamp":"2025-11-11T07:16:26.758Z","level":"info","message":"Incoming request","path":"/admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V","method":"GET","requestId":"local-1762845386758-zld5mp5zn"}
{"timestamp":"2025-11-11T07:16:26.759Z","level":"info","message":"JWT Claims","hasAuthorizer":true,"claimKeys":["sub","custom:tenant_id","email"],"hasCustomTenantId":true,"hasEmail":true,"hasSub":true,"rawClaims":{"sub":"84c8e438-0061-70f2-2ce0-7cb44989a329","custom:tenant_id":"84c8e438-0061-70f2-2ce0-7cb44989a329","email":"test@example.com"}}
[Router] Request received {
  method: 'GET',
  path: '/admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V',
  rawPath: '/admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V',
  pathParameters: {
    '0': '/admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V'
  },
  tenantId: '84c8e438-0061-70f2-2ce0-7cb44989a329'
}
[Router] Matched /admin/workflows/generation-status/:jobId route { jobId: 'wfgen_01K9RW7M8WETQ7P7443W483T1V' }
[Handler] Router returned result {
  statusCode: 200,
  bodyType: 'object',
  bodyKeys: [
    'job_id',
    'status',
    'result',
    'error_message',
    'created_at',
    'updated_at'
  ],
  path: '/admin/workflows/generation-status/wfgen_01K9RW7M8WETQ7P7443W483T1V'
}
[Workflow Generation] Template HTML generation completed {
  duration: '144806ms',
  tokensUsed: 10355,
  modelUsed: 'gpt-5-2025-08-07'
}
[Usage Tracking] Usage record stored {
  usageId: 'usage_01K9RWER9GK083Y3CZXSRR3DE4',
  tenantId: '84c8e438-0061-70f2-2ce0-7cb44989a329',
  serviceType: 'openai_template_generate',
  model: 'gpt-5-2025-08-07',
  inputTokens: 173,
  outputTokens: 10182,
  costUsd: 0.102253
}
[Workflow Generation] Success! {
  tenantId: '84c8e438-0061-70f2-2ce0-7cb44989a329',
  workflowName: 'AI Growth Blueprint',
  templateName: 'Lead Magnet Summary',
  htmlLength: 31786,
  formFieldsCount: 6,
  totalDuration: '220385ms',
  timestamp: '2025-11-11T07:18:03.405Z'
}
[Workflow Generation] Job completed successfully { jobId: 'wfgen_01K9RW7M8WETQ7P7443W483T1V' }
[Handler] Router returned result {
  statusCode: 200,
  bodyType: 'object',
  bodyKeys: [ 'message', 'job_id' ],
  path: '/admin/workflows/process-job/wfgen_01K9RW7M8WETQ7P7443W483T1V'
}

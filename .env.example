# AWS Configuration
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=your-account-id

# Cognito
COGNITO_USER_POOL_ID=your-user-pool-id
COGNITO_CLIENT_ID=your-client-id
COGNITO_DOMAIN=leadmagnet-your-account.auth.us-east-1.amazoncognito.com

# DynamoDB Tables
WORKFLOWS_TABLE=leadmagnet-workflows
WORKFLOW_VERSIONS_TABLE=leadmagnet-workflow-versions
FORMS_TABLE=leadmagnet-forms
SUBMISSIONS_TABLE=leadmagnet-submissions
JOBS_TABLE=leadmagnet-jobs
ARTIFACTS_TABLE=leadmagnet-artifacts
TEMPLATES_TABLE=leadmagnet-templates
USER_SETTINGS_TABLE=leadmagnet-user-settings
NOTIFICATIONS_TABLE=leadmagnet-notifications
USAGE_RECORDS_TABLE=leadmagnet-usage-records
USERS_TABLE=leadmagnet-users
CUSTOMERS_TABLE=leadmagnet-customers
FILES_TABLE=leadmagnet-files
IMPERSONATION_LOGS_TABLE=leadmagnet-impersonation-logs
SESSIONS_TABLE=leadmagnet-sessions
WEBHOOK_LOGS_TABLE=leadmagnet-webhook-logs
TRACKING_EVENTS_TABLE=leadmagnet-tracking-events
RATE_LIMITS_TABLE=leadmagnet-rate-limits

# S3
ARTIFACTS_BUCKET=leadmagnet-artifacts-prod
CLOUDFRONT_DISTRIBUTION_ID=your-distribution-id
# Public CDN hostname used when generating permanent artifact URLs.
# - Default: the CloudFront distribution domain (d123.cloudfront.net)
# - Recommended when using custom domains: set to your *assets* hostname (e.g. assets.mycoursecreator360.com)
CLOUDFRONT_DOMAIN=your-distribution.cloudfront.net

# Shell Executor uploads (used by worker + shell executor Lambda)
# - Uploads everything under /work/dist automatically (no manifest needed)
SHELL_EXECUTOR_UPLOAD_MODE=dist
SHELL_EXECUTOR_UPLOAD_BUCKET=coursecreator360-rich-snippet-booster
SHELL_EXECUTOR_UPLOAD_DIST_SUBDIR=dist
SHELL_EXECUTOR_MANIFEST_NAME=shell_executor_manifest.json
# Unique per-job folder inside the bucket
SHELL_EXECUTOR_UPLOAD_PREFIX_TEMPLATE=jobs/{tenant_id}/{job_id}/
# Optional: fixed prefix when no template provided (fallback)
SHELL_EXECUTOR_UPLOAD_PREFIX=
# Optional: ACL (leave blank when bucket owner enforced)
SHELL_EXECUTOR_UPLOAD_ACL=

# Step Functions
STEP_FUNCTIONS_ARN=arn:aws:states:us-east-1:account:stateMachine:leadmagnet-job-processor

# Secrets Manager
OPENAI_SECRET_NAME=leadmagnet/openai-api-key
WEBHOOK_SECRET_NAME=leadmagnet/delivery-webhook-url

# API
API_GATEWAY_URL=https://your-api-id.execute-api.us-east-1.amazonaws.com

# CORS (API Lambda-side headers; API Gateway also has CORS configured)
# Use '*' for simplest setup, or a comma-separated list of allowed origins.
# Example: CORS_ORIGINS=https://d123.cloudfront.net,https://forms.yourdomain.com,http://localhost:3000
CORS_ORIGINS=*

# Frontend
NEXT_PUBLIC_API_URL=https://your-api-id.execute-api.us-east-1.amazonaws.com
NEXT_PUBLIC_COGNITO_USER_POOL_ID=your-user-pool-id
NEXT_PUBLIC_COGNITO_CLIENT_ID=your-client-id
NEXT_PUBLIC_AWS_REGION=us-east-1

# Optional: Custom domain(s) for the CloudFront distribution serving the frontend + public forms.
# This is how you "connect a domain" for a specific tenant: attach the domain here, then set
# that tenant's Settings -> Custom Domain to the same origin (e.g. https://forms.yourdomain.com).
#
# Provide either:
# - CLOUDFRONT_CUSTOM_CERTIFICATE_ARN (recommended, must be in us-east-1 for CloudFront), OR
# - ROUTE53_HOSTED_ZONE_ID + ROUTE53_HOSTED_ZONE_NAME to auto-create a DNS-validated cert (Route53 only).
#
# CLOUDFRONT_CUSTOM_DOMAIN_NAMES=forms.yourdomain.com,assets.yourdomain.com
# CLOUDFRONT_CUSTOM_CERTIFICATE_ARN=arn:aws:acm:us-east-1:account:certificate/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
#
# Optional (Route53 automation):
# ROUTE53_HOSTED_ZONE_ID=Z1234567890ABC
# ROUTE53_HOSTED_ZONE_NAME=yourdomain.com

# Development
NODE_ENV=development
LOG_LEVEL=info

# Optional: centralized error reporting (e.g., Slack webhook or your collector)
ERROR_WEBHOOK_URL=
# JSON object string, e.g. {"Authorization":"Bearer xxx"}
ERROR_WEBHOOK_HEADERS=
ERROR_WEBHOOK_TIMEOUT_MS=3000

# Scrapy Bara API Configuration (optional)
SCRAPY_API_KEY=your_api_key_here
SCRAPY_BARA_ENABLED=false
SCRAPY_BARA_API_URL=https://api.scrapy.bara.com

